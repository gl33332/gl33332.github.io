@echo off
title Hexo 博客双向同步工具
color 0b

echo ======================================================
echo           1. 正在同步 Qexo 的远程改动 (Master)
echo ======================================================
:: 这一步非常重要，因为 Qexo 会直接修改远程文件
git pull origin master

echo.
echo ======================================================
echo           2. 正在备份并触发自动部署 (Master)
echo ======================================================
git add .
:: 检查是否有改动再提交，避免生成空的 commit
git commit -m "Site Update: %date% %time%"
git push origin master

echo.
echo ======================================================
echo   任务完成！源码已推送，GitHub Actions 正在后台部署...
echo ======================================================
pause